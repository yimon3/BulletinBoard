@model BulletinBoardSampleFrame.ViewModel.User.UserViewModel
@{
    ViewBag.Title = "UserForm";
}
<h2>Create User</h2><br>
@using (Html.BeginForm("ConfirmUser", "User", null, FormMethod.Post, new { enctype = "multipart/form-data" }))
{
@Html.AntiForgeryToken()
@Html.ValidationSummary(true, "", new { @class = "text-danger" })
if (ViewData["Message"] != null)
{
    <p style="color:red" id="popupdiv">@ViewData["Message"]</p>
    <hr />
}
<form class="form-horizontal" id="form1">
    <div class="form-group row">
        <div class="col-sm-2">
            @Html.LabelFor(m => m.Name)
        </div>
        <div class="col-sm-3">
            @Html.TextBoxFor(m => m.Name, new { @class = "form-control", required = "required" })
        </div>
        <label style="color: red">*</label>
        @Html.ValidationMessageFor(m => m.Name, "", new { @class = "text-danger" })
    </div>
    <div class="form-group row">
        <div class="col-sm-2">
            @Html.LabelFor(m => m.Email)
        </div>
        <div class="col-sm-3">
            @Html.TextBoxFor(m => m.Email, new { @class = "form-control", required = "required" })
        </div>
        <label style="color: red">*</label>
        @Html.ValidationMessageFor(m => m.Email, "", new { @class = "text-danger" })
    </div>
    <div class="form-group row">
        <div class="col-sm-2">
            @Html.LabelFor(m => m.Password)
        </div>
        <div class="col-sm-3">
            @Html.PasswordFor(m => m.Password, new { @class = "form-control", required = "required" })
        </div>
        <label style="color: red">*</label>
        @Html.ValidationMessageFor(m => m.Password, "", new { @class = "text-danger" })
    </div>
    <div class="form-group row">
        <div class="col-sm-2">
            @Html.LabelFor(m => m.ConfirmPassword)
        </div>
        <div class="col-sm-3">
            @Html.PasswordFor(m => m.ConfirmPassword, new { @class = "form-control", required = "required" })
        </div>
        <label style="color: red">*</label>
        @Html.ValidationMessageFor(m => m.ConfirmPassword, "", new { @class = "text-danger" })
    </div>
    <div class="form-group row">
        <div class="col-sm-2">
            @Html.LabelFor(m => m.Type)
        </div>
        <div class="col-sm-3">
            <select name="type" id="type" required="required" class="form-control" value="">
                <option value="admin">Admin</option>
                <option value="user">User</option>
                <option value="visitor">Visitor</option>
            </select>
        </div><label style="color: red">*</label>
        @Html.ValidationMessageFor(m => m.Type, "", new { @class = "text-danger" })
    </div>
    <div class="form-group row">
        <div class="col-sm-2">
            @Html.LabelFor(m => m.Phone)
        </div>
        <div class="col-sm-3">
            @Html.TextBoxFor(m => m.Phone, new { @class = "form-control" })
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2">
            @Html.LabelFor(m => m.Dob)
        </div>
        <div class="col-sm-3">
            @Html.TextBoxFor(m => m.Dob, new { @class = "form-control datepicker" })
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2">
            @Html.LabelFor(m => m.Address)
        </div>
        <div class="col-sm-3">
            @Html.TextAreaFor(m => m.Address, new { @class = "form-control" })
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-2">
            @Html.LabelFor(m => m.Profile)
        </div>
        <div class="col-sm-3">
            @Html.TextBoxFor(m => m.Profile, new { type = "file", id = "imgInp", @class = "form-control", required = "required" })
            <img id="profile" src="#" alt="picture" width="100" />
        </div>
        <label style="color: red">*</label>
        @Html.ValidationMessageFor(m => m.Profile, "", new { @class = "text-danger" })
    </div>
    <div class="form-group row">
        <div class="col-sm-2"></div>
        <div class="col-sm-3">
            <button type="submit" class="btn btn-primary">Confirm</button>
            <input type="button" class="btn btn-default" value="Clear" onclick="location.href='@Url.Action("ClearInput", "User")'" />
        </div>
    </div>
</form>
}
<link href="~/Resources/lib/css/jquery-ui.min.css" rel="stylesheet" />
@section scripts
{
    <script src="~/Resources/lib/js/jquery-ui-1.12.1.min.js"></script>
    <script src="~/Resources/lib/js/jquery.min.js"></script>
    <script>
        $(document).ready(function () {
            $(".datepicker").datepicker({
                dateFormat: "dd-mm-yy",
                changeMonth: true,
                changeYear: true,
                yearRange: "-100:+0"
            });
        });

        $(document).ready(function () {
            if ($('#popupdiv').html() != '') {
                $("#popupdiv").show();
            }
        });

        function readURL(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();

                reader.onload = function (e) {
                    $('#profile').attr('src', e.target.result);
                }
                reader.readAsDataURL(input.files[0]);
            }
        }
        $("#imgInp").change(function () {
            readURL(this);
        });
    </script>
}




